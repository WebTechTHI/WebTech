<!DOCTYPE html>
<html lang="de">
    <link rel="stylesheet" href="../../../assets/css/mystyle.css">
    <link rel="stylesheet" href="../../../assets/css/shopHeader.css">
    <link rel="stylesheet" href="../../../assets/css/footer.css">
    <link rel="stylesheet" href="../../../assets/css/productInfo.css">
<script src="../assets/javascript/base.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLR | Oblivion Beast</title>
    <link rel="icon" href="../../../assets/images/logo/favicon.png" type="image/x-icon">
    <style>
       
    </style>
</head>

<body>

    
    <!-- Shopping Cart Toggle Button -->
    <button class="warenkorbToggle">
        <img src="../../../assets/images/icons/shoppingcart.png" style="width: 25px;">
        <span class="warenkorbAnzahl">0</span>
    </button>

    <div class="warenkorbContainer">
        <div class="warenkorbHeader">
            <h3>Warenkorb</h3>
            <button class="warenkorbSchliessen">&times;</button>
        </div>
        <div class="warenkorbInhalt">
            <div class="leerNachricht">Ihr Warenkorb ist leer.</div>
        </div>
        <div class="warenkorbFooter">
            <div class="warenkorbGesamt">
                <span>Gesamt:</span>
                <span>0,00 €</span>
            </div>
            <button class="zurKasseButton">Zur Kasse</button>
        </div>
    </div>

    <div class="warenkorbOverlay"></div>

    <div class="productContainer">

        <div class="productHeader">
            <h1>Oblivion Beast</h1>
            <h2>AMD Ryzen 5 5600X 6x3.70GHz | 16GB DDR4 | RX 6750 XT 12GB | 1TB M.2 SSD</h2>
            
            <span class="topPrice">869 €</span>
        </div>

        <div class="productGallery"> 
                
            <img src='../../../assets/images/products/2/vorne.png' alt="Oblivion Beast vorne"
                class="productImage mainImage">
            <div class="thumbnailContainer"> 
                <img src='../../../assets/images/products/2/vorne.png' alt="Oblivion Beast vorne Thumbnail"
                    class="productImage thumbnail active">
                <img src='../../../assets/images/products/2/seitlich.png' alt="Oblivion Beast seitlich Thumbnail"
                    class="productImage thumbnail">
                <img src='../../../assets/images/products/2/seitlichOffen.png' alt="Oblivion Beast offen Thumbnail"
                    class="productImage thumbnail">
            </div>
        </div>

        <div class="productInfo">

            <h3>Beschreibung</h3>
            <p class="beschreibung">Der Oblivion Beast Gaming-PC überzeugt mit starker Hardware für flüssiges Zocken in hoher Auflösung. Ausgestattet mit einem AMD Ryzen 5 5600X, einer Radeon RX 6750 XT (12GB), 16GB RAM und schneller SSD bietet er beste Performance für aktuelle und kommende Spiele. Dank hochwertiger Komponenten, individueller Fertigung und ausführlichem Test erhältst Du einen leistungsstarken, zuverlässigen Gaming-Rechner – ganz ohne Office-Kompromisse.</p>

            <h3>Technische Details</h3>

            <table class="technicalDetails">
                <tr><td><strong>Prozessor:</strong></td><td>AMD Ryzen 5 5600X, 6x 3.70GHz</td></tr>
                <tr><td><strong>RAM:</strong></td><td>16GB DDR4</td></tr>
                <tr><td><strong>Grafik:</strong></td><td>Radeon RX 6750 XT, 12GB</td></tr>
                <tr><td><strong>Speicher:</strong></td><td>1TB M.2 SSD</td></tr>
                <tr><td><strong>Betriebssystem:</strong></td><td>Windows 11 Home</td></tr>
                <tr><td><strong>Netzwerk:</strong></td><td>Gigabit LAN, WLAN optional</td></tr>
                <tr><td><strong>Anschlüsse:</strong></td><td>USB 3.0, HDMI, DisplayPort, Audio In/Out</td></tr>
            </table>

            

        </div>

        <div class="kaufContainer">
            <p class="price"><strong>Preis: </strong> 869 €</p> 
            <button class="warenkorbButton">Zum Warenkorb hinzufügen</button>
            <div class="anzahlContainer">
                <button class="anzahlButton" id="decrease">-</button>
                <input type="number" class="anzahl" value="1" min="1" readonly>
                <button class="anzahlButton" id="increase">+</button>
            </div>
        </div>
    </div>

    <footer>
        <nav>
            <p>© 2025 MLR | <a href="../../../pages/about.html"><i>Impressum</i></a></p>
        </nav>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const toggleBtn = document.querySelector('.warenkorbToggle');
            const container = document.querySelector('.warenkorbContainer');
            const closeBtn = document.querySelector('.warenkorbSchliessen');
            const overlay = document.querySelector('.warenkorbOverlay');
            const anzahl = document.querySelector('.warenkorbAnzahl');
            const inhalt = document.querySelector('.warenkorbInhalt');
            const gesamt = document.querySelector('.warenkorbGesamt span:last-child');
            const leerText = document.querySelector('.leerNachricht');
            const hinzufuegenBtn = document.querySelector('.warenkorbButton');
            const mengeInput = document.querySelector('.anzahl');
            const minusBtn = document.getElementById('decrease');
            const plusBtn = document.getElementById('increase');

            let warenkorb = [];

            toggleBtn.addEventListener('click', () => {
                container.classList.add('warenkorbOffen');
                overlay.style.display = 'block';
            });

            closeBtn.addEventListener('click', () => {
                container.classList.remove('warenkorbOffen');
                overlay.style.display = 'none';
            });

            overlay.addEventListener('click', () => {
                container.classList.remove('warenkorbOffen');
                overlay.style.display = 'none';
            });

            minusBtn.addEventListener('click', () => {
                if (parseInt(mengeInput.value) > 1) {
                    mengeInput.value = parseInt(mengeInput.value) - 1;
                }
            });

            plusBtn.addEventListener('click', () => {
                mengeInput.value = parseInt(mengeInput.value) + 1;
            });

            hinzufuegenBtn.addEventListener('click', () => {
                const name = document.querySelector('.productHeader h1').textContent;
                const preis = 869;
                const menge = parseInt(mengeInput.value);
                const bild = document.querySelector('.mainImage').src;

                const index = warenkorb.findIndex(e => e.name === name);
                if (index > -1) {
                    warenkorb[index].quantity += menge;
                } else {
                    warenkorb.push({ name, price: preis, quantity: menge, image: bild });
                }

                aktualisiereWarenkorb();
                container.classList.add('warenkorbOffen');
                overlay.style.display = 'block';
            });

            function aktualisiereWarenkorb() {
                const artikelZahl = warenkorb.reduce((sum, e) => sum + e.quantity, 0);
                anzahl.textContent = artikelZahl;

                while (inhalt.firstChild) inhalt.removeChild(inhalt.firstChild);

                if (warenkorb.length === 0) {
                    inhalt.appendChild(leerText);
                    gesamt.textContent = '0,00 €';
                    return;
                }

                let gesamtPreis = 0;

                warenkorb.forEach((artikel,) => {
                    gesamtPreis += artikel.price * artikel.quantity;

                    const element = document.createElement('div');
                    element.className = 'warenkorbArtikel';
                    element.innerHTML = `
                        <img src="${artikel.image}" alt="${artikel.name}" class="artikelBild">
                        <div class="artikelDetails">
                            <div class="artikelTitel">${artikel.name}</div>
                            <div class="artikelPreis">${artikel.price.toFixed(2).replace('.', ',')} €</div>
                            <div class="artikelMenge">
                                <button class="mengenButton menge-minus" data-index="${i}">-</button>
                                <input type="number" class="mengenEingabe" value="${artikel.quantity}" readonly>
                                <button class="mengenButton menge-plus" data-index="${i}">+</button>
                            </div>
                            <button class="artikelEntfernen" data-index="${i}">Entfernen</button>
                        </div>
                    `;
                    inhalt.appendChild(element);

                    element.querySelector('.menge-minus').addEventListener('click', function () {
                        const index = parseInt(this.dataset.index);
                        if (warenkorb[index].quantity > 1) warenkorb[index].quantity--;
                        aktualisiereWarenkorb();
                    });

                    element.querySelector('.menge-plus').addEventListener('click', function () {
                        const index = parseInt(this.dataset.index);
                        warenkorb[index].quantity++;
                        aktualisiereWarenkorb();
                    });

                    element.querySelector('.artikelEntfernen').addEventListener('click', function () {
                        const index = parseInt(this.dataset.index);
                        warenkorb.splice(index, 1);
                        aktualisiereWarenkorb();
                    });
                });

                gesamt.textContent = `${gesamtPreis.toFixed(2).replace('.', ',')} €`;
            }

            aktualisiereWarenkorb();

            const hauptBild = document.querySelector('.mainImage');
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach(t => {
                t.addEventListener('click', function () {
                    hauptBild.src = this.src;
                    thumbnails.forEach(thumb => thumb.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>